---
layout: post
title: 数据链路层刷题笔记
date: 2024-12-05 18:52:05
tags:
categories: 计算机网络
hidden: true
---

{% note info **数据链路层的流量控制** %}
通过滑动窗口对发送方的数据流量进行流量控制。
{% endnote %}

{% note info **数据链路层为网络层提供的服务** %}
1. 无确认的无连接服务
2. 有确认的无连接服务
3. 有确认的面向连接的服务

既然都有连接了，怎么会没确认呢对吧。
{% endnote %}

{% note info **组帧的目的** %}
提高传输效率（出错时重发对应的帧，不用全部重发）。
{% endnote %}

{% note info **数据链路的分层** %}
数据链路层分为LLC子层和MAC子层。
- LLC：逻辑链路控制（上层）
    逻辑链路建立、数据帧编号、提供与网络层的接口
- MAC：访问介质控制（下层）
    媒体访问控制
{% endnote %}

{% note info **访问介质控制** %}
访问介质控制（MAC）是局域网中数据链路层的下层部分，提供寻址及媒体访问的控制方式，使得不同设备或网络上的节点可以在多点的网络上通信而不会互相冲突。常用的几种方式有：
- 时隙ALOHA：**随机访问**协议，将时间划分为时间片（时隙），节点在时间片开始时发送数据
- CSMA：**随机访问**协议，载波监听多路访问，节点在发送前监听信道，确保信道空闲才发送数据
- CSMA/CD：**随机访问**协议，载波监听多路访问/碰撞检测，除了监听信道外还有碰撞检测的功能，能在碰撞发生时停止发送，等待随机时间重试
- 令牌传递：**轮询访问**协议，有一种称为令牌的信号在节点之间传递，收到令牌的节点表示授权可以发数据
{% endnote %}

---

{% note success **数据链路的滑动窗口** %}
通常来说，题目会给定数据链路的发送窗口大小，询问发送方还可以发送多少帧。
**例如**：数据链路的发送窗口大小为3，在发送2号帧并得到1号帧的确认帧后，发送方还可以连续发送多少帧？
可能会联想到TCP的滑动窗口，但链路层的有所不同。在收到1号帧确认后，窗口会向后滑动1个单位。2号虽然发送了但没有确认，窗口大小不会改变，所以此时为2，可以连续发送2帧。
{% endnote %}

{% note success **后退N帧协议的发送窗口大小** %}
通常来说，题目会给定当前帧的大小，询问发送窗口的最大尺寸是多少。
**例如**：当前帧的大小为4B，后退N帧协议中发送窗口的最大尺寸是多少？
在这个协议中，最大窗口是2^m^ - 1，其中m为帧的位数。因此，最大发送窗口尺寸为2^4^ - 1 = 15。
{% endnote %}

{% note success **选择重传协议的发送窗口大小** %}
通常来说，题目会给定当前帧的大小，询问发送窗口的最大尺寸是多少。
**例如**：当前帧的大小为4B，选择重传协议中发送窗口的最大尺寸是多少？
在这个协议中，最大窗口是2^(m-1)^ ，其中m为帧的位数。因此，最大发送窗口尺寸为2^3^ = 8。
{% endnote %}

{% note success **零比特填充法如何组帧** %}
通常来说，题目会给定接收方收到的帧的比特序列，问原始数据的比特流是多少。
**例如**：接收方收到的帧的比特序列为0111111010111110101111110，用**零比特填充法**组帧，原始数据的比特流是？
零比特填充法规定开始和结束加上`01111110`作为标志，同时每遇到5个`1`就自动插入一个0。因此，原始数据为10111111
{% endnote %}

{% note success **计算CRC校验码** %}
通常来说，题目会给定需要生成CRC的比特信息和生成多项式G(x)，求CRC码。G(x)的规则是多项式最高位与生成结果相同，不同位的乘数是0或1代表了二进制的生成多项式的值。
**例如**：信息字段为1101001，G(x)=x^4+x+1，求CRC码
1. G(x)=x^4+x+1代表二进制的生成多项式为10011
2. 需要计算的信息内容末尾加上生成多项式最高位（本题中为4）个`0`，变成11010010000
3. 11010010000按高位对其循环异或（值不同时为1，否则为0）00000010011
4. 11010010000 `XOR` 10011000000 = 01001010000
5. 1001010000 `XOR` 100110000 = 0000110000
6. 110000 `XOR` 100110 = 010110
7. 10110 `XOR` 10011 = 00101
8. 0101即CRC结果
{% endnote %}

---

{% note danger **信道复用的优劣** %}
频分复用`FDM`对信道的带宽利用率很高，但它适合模拟信号不适合数字信号。
对于数字信号更多使用时分复用`TDM`。
{% endnote %}