---
layout: post
title: 计算机网络八股
date: 2024-04-08 13:43:16
categories: 计算机网络
tags: ['计算机网络','计算机科学技术','面试相关','八股文']
copyright_author: 时光
katex: true
hidden: true
---
面试频率
- 五星：红色
- 四星：黄色
- 三星：绿色
- 两星：蓝色
- 一星：紫色

# 计算机网络体系结构

{% note info 计算机网络分层的好处 %}
1. 各层之间相互独立、相关隔离。每层只考虑当前层如何实现，无需考虑其他层
2. 提高整体结构的灵活性，层次之间结构解耦合
3. 大问题变小，复杂问题变简单
{% endnote %}

{% note danger **计算机网络为什么要分层** %}
计算机网络是个非常复杂的系统，相互通信的两个计算机必须高度协调工作，但是这种协调是很复杂的。
分层可以将庞大复杂的问题，转化成若干个较小的局部问题，这些局部的较小的问题就比较易于研究和处理。
{% endnote %}

{% note danger **计算机网络是怎么分层的** %}
计算机网络中，我们为不同类型的事件划分了“层(layer)”的概念，每层通过特定的协议提供相应的服务，组成了计算机网络体系结构（即分层结构）。其中：
1. 各层之间相互独立，每层只实现一种相对独立的功能
2. 每层之间界面自然清晰，易于理解，相互交流尽可能少
3. 结构上相互分离，每层都采用最合适的技术来实现
4. 保持下层对上层的独立性，上层单向使用下层提供的服务
5. 整个分层结构应该能促进标准化工作
{% endnote %}

{% note warning OSI七层模型的每一层 %}
口诀：物联网叔会使用
1. 应用层：通过**应用程序**间的交互来完成特定的网络应用
2. 表示层：解释交换数据的**含义**。该层提供的服务主要包括**数据压缩**，**数据加密**以及**数据描述**。
3. 会话层：负责建立、管理和终止表示层实体之间的**通信会话**。该层提供了数据交换的定界和同步功能，包括了建立**检查点**和恢复方案的方法。
4. 传输层：负责因特网中两台主机的**进程**提供通信服务。
5. 网络层：选择合适的**网间路由**和**交换节点**，确保数据按时成功传送。
6. 数据链路层(链路层)：数据链路层将网络层交下来的 IP 数据报组装成**帧**，在两个相邻节点间的**链路上传送帧**。
7. 物理层：实现计算机节点之间比特流的**透明传送**，尽可能屏蔽掉具体传输介质和物理设备的差异。该层的主要任务是确定与传输媒体的接口的一些特性（机械特性、电气特性、功能特性，过程特性）
{% endnote %}

{% note danger 五层体系结构中的每一层 %}
五层体系的协议结构是综合了 OSI 和 TCP/IP 优点的一种协议，包括应用层、传输层、网络层、数据链路层和物理层。其中应用层对应 OSI 的上三层，下四层和 OSI 相同。五层协议的体系结构只是为介绍网络原理而设计的，实际应用还是 TCP/IP 四层体系结构。
1. 应用层：为特定**应用程序**提供数据传输服务。
2. 传输层：为**进程**提供通用数据传输服务。
3. 网络层：为**主机**提供数据传输服务。而传输层协议是为主机中的进程提供数据传输服务。
4. 数据链路层：网络层针对的还是主机之间的数据传输服务，而主机之间可以有很多链路，链路层协议就是**为同一链路的主机**提供数据传输服务。
5. 物理层：负责比特流在**传输介质**上的传播。
{% endnote %}

{% note danger **三种计算机网络模型的关系是什么** %}
五层体系的协议结构是综合了 OSI 和 TCP/IP 优点的一种协议，包括应用层、传输层、网络层、数据链路层和物理层。其中应用层对应 OSI 的上三层，下四层和 OSI 相同。五层协议的体系结构只是为介绍网络原理而设计的，实际应用还是 TCP/IP 四层体系结构。

<img src="https://img10.360buyimg.com/ddimg/jfs/t1/241758/29/7032/37745/66138988Fc58692d0/ed7675035a8ed2e7.jpg" alt="image.png" title="image.png" />

{% endnote %}

{% note danger **每一层分别包含哪些协议** %}
<img src="https://img10.360buyimg.com/ddimg/jfs/t1/241758/29/7032/37745/66138988Fc58692d0/ed7675035a8ed2e7.jpg" alt="image.png" title="image.png" />
{% endnote %}

{% note warning **数据如何在各层中传播** %}
<img src="https://img13.360buyimg.com/ddimg/jfs/t1/247333/28/7068/25547/661389d1F0206a9f5/f5a7dd3fd2a6fe08.jpg" alt="image.png" title="image.png" />

假设一个主机上的一个应用向另一个主机的一个应用发送数据，所经历的流程将如上图所示。

1. 在发送主机端，一个**应用层报文**被传送到**传输层**。在最简单的情况下，传输层收取到报文并附上附加信息，该首部将被**接收端**的传输层使用。
2. 应用层报文和传输层首部信息一道构成了**传输层报文段**。附加的信息可能包括：允许接收端传输层向上向适当的应用程序交付报文的信息以及差错检测位信息。该信息让接收端能够判断报文中的比特是否在途中已被改变。
3. 传输层则向网络层传递该报文段，网络层增加了如**源和目的端系统地址**等网络层首部信息，生成了**网络层数据报文**。
4. 该数据报文接下来被传递给链路层，在数据链路层数据包添加发送端 MAC 地址和接收端 MAC 地址后被封装成**数据帧**。
5. 在物理层数据帧被封装成**比特流**，之后通过传输介质传送到对端。而在接收主机端，整个过程正好反过来。
{% endnote %}

{% note warning **数据在网络各层中的存在形式** %}
1. 应用层：报文
2. 传输层：报文段/数据段
3. 网络层：数据报/数据包
4. 数据链路层：帧/数据帧
5. 物理层：比特流
{% endnote %}

# 应用层
{% note success uri和url的区别 %}
网络上的资源必须有一个**唯一**的表示，才可以在网络上被访问。常见的几种表示如下：
- uri(uniform resource identifier) 统一资源**标识符**。
- url(uniform resource location) 统一资源**定位符**，统指绝对路径。
- urn(uniform resource name) 统一资源**名**。

三者之间关系为， url 和 urn 分别是 URI 的**子集**。
统一资源标志符URI就是在某一规则下能把一个资源独一无二地标识出来。url是通过路径的方式进行标识的，是url的**一种实现方式**。就像我们可以用中华人名共和国居民身份证标识每一个中国人，也可以通过地址（如：动物住址协议://地球/中国/浙江省/杭州市/西湖区/某大学/14号宿舍楼/525号寝/张三）标识。

<img src="https://img11.360buyimg.com/ddimg/jfs/t1/247857/27/7205/4620/66138fa7Fedc84ebd/1d5bd53073f70d35.jpg" alt="image.png" title="image.png" />

{% endnote %}

{% note success 获取网络资源 %}
1. 一般是访问资源使用的协议类型，比如http://、https://。
2. 服务器的 web 地址，可以为域名或者 ip 地址 + 端口号，比如 localhost:8080 或者 127.0.0.1:8080。不添加默认为 80 ，这是访问域名不用加端口号的原因 。
3. web 服务器上的某个资源，比如leetbook/read/networks-interview-highlights。

> 注意：url是否以"/"结尾，意义是不同的，用户无感知的原因是因为服务器自动处理了这种差异。
{% endnote %}

{% note success dns是啥工作原理，主要解析过程是什么 %}
{% endnote %}

{% note success 用户输入网址到显示对应页面的全过程是什么 %}
{% endnote %}

{% note success http头部包含哪些信息 %}
{% endnote %}

{% note success http方法有哪些 %}
{% endnote %}

{% note success http状态码有哪些 %}
{% endnote %}

{% note success get和post的区别 %}
{% endnote %}

{% note success http和https的区别 %}
{% endnote %}

{% note success https的加密方式 %}
{% endnote %}

{% note success http是不保存状态的协议，如何保存用户状态 %}
{% endnote %}

{% note success http不同版本的区别 %}
{% endnote %}

# 传输层

# 网络层
{% note success **ip地址** %}
ip 地址是一个数字标签，例如 192.0.2.1 ，用于与使用 ip 协议进行通信的计算机网络连接，IP 地址主要有两个作用：
1. 网络接口标识.
2. 地址寻址。

**IPv4** (Internet Protocol version 4) 定义 IP 地址为 32 位二进制数字组成，其中分为四组 8 位二进制数字，每 8 位二进制数字转为十进制，就是常见的 ip 地址的形式。
{% endnote %}

{% note success **五类ip地址** %}
![](https://static.s123-cdn-static-c.com/uploads/1887341/2000_5c5f54e402598.jpg)

为了便于寻址以及层次化构建网络，每个 ip 地址包括两个标识码，即 **网络id** 和 **主机id**。同一个物理网络上的所有主机都使用同一个网络 id ，每个网络主机有一个唯一的主机 id ，根据网络 id 的不同将网络 ip 分为五类。

- A 类地址
由 1 字节的网络地址和 3 字节的主机地址组成，一个A类网络内理论上有 $$2^{24}$$ 个 ip 地址，为大型网络设计的。
> 网络号范围为 `0 - 127`，其中 0 代表任何地址，127 为回环测试地址。

- B 类地址
由 2 个字节的网络地址和 2 个字节的主机地址组成，网络地址的最高位必须是“10”，地址范围从 128.0.0.0 到191.255.255.255。可用的B类网络有16382个，每个网络能容纳6万多个主机 。
- C类地址
由 3 字节的网络地址和1字节的主机地址组成，网络地址的最高位必须是“110”。范围从 192.0.0.0 到 223.255.255.255。C类网络可达 $$2^{21}$$（209 万余）个 IP 地址，每个网络能容纳 254 个主机。
- D 类地址
用于多点广播（Multicast），它标识一组计算机共享同一协议，可以一次性寻址多个接收者。D 类地址的第一个字节以“1110”开始，范围从 224.0.0.0 到 239.255.255.255 。这些地址被保留用于多点广播，不会分配给特定的网络或主机。
- E 类地址
以“11110”开始，为将来使用保留。

> 全零(“0.0.0.0”)地址对应于当前主机。全“1”的IP地址(“255.255.255.255”)是当前子网的广播地址。

在 IP 地址 3 种主要类型里，各保留了 3 个区域作为私有地址，其地址范围如下：
1. A 类地址：10.0.0.0～10.255.255.255
2. B 类地址：172.16.0.0～172.31.255.255
3. C 类地址：192.168.0.0～192.168.255.255
{% endnote %}

{% note success **NAT v.s. ipv6** %}
随着互联网的发展 ipv4 提供的 ip 地址不够用了，人们提出了两种解决方案：

- nat(network address translation)网络地址转换协议
将内网地址转为公网ip的协议，实现多层网络地址转换。
- ipv6
使用 128 位二进制数字作为 ip 地址。

{% img http://localhost:4000/next/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%85%AB%E8%82%A1/image.png %}

{% img https://cattyhouse-guiny.xyz/next/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%85%AB%E8%82%A1/image.png %}

{% endnote %}

{% note primary **ARP协议** %}
arp(address resolution protocol) 地址解析协议：根据主机的ip 地址获取主机的mac 地址。每个主机都有一个 ARP 高速缓存，里面有本局域网上的各主机和路由器的 IP 地址到 MAC 地址的映射表。

有两台计算机 A 和 B 在局域网内通过以太网电缆和网络交换机相互连接，中间没有网关或路由器。A 有一个数据包要发送给 B，它确定 B 的 IP 地址，为了发送消息，它还需要 B 的 mac 地址。首先，A 使用缓存的 ARP 表根据 B 的 ip 地址查找 mac 地址，如果找到MAC 地址，就可以发送消息。如果没有，A 就会发送一个局域网广播的 ARP 请求 B 的 MAC的，这个消息被局域网内所有的计算机接受，B 返回一个包含 MAC 和 IP 地址的 ARP 响应消息。作为响应请求的一部分，B 可以将 A 的一个条目插入到它的 ARP 表中，以备将来使用。
{% endnote %}

{% note primary **ICMP协议** %}
icmp(internet control message protocol) 因特网控制报文协议 ，主要是实现 IP 协议中未实现的部分功能，是一种网络层协议。该协议并不传输数据，只传输控制信息来辅助网络层通信。其主要的功能是验证网络是否畅通（确认接收方是否成功接收到 IP 数据包）以及辅助 IP 协议实现可靠传输（若发生 IP 丢包，ICMP 会通知发送方 IP 数据包被丢弃的原因，之后发送方会进行相应的处理。ping 和 traceroute 都是通过 icmp 协议实现的。
- ping
即因特网包探测器，是一种工作在网络层的服务命令，主要用于测试网络连接质量。
- traceroute
其主要用来跟踪一个分组从源点耗费最少 TTL到达目的地的路径。
{% endnote %}

# 数据链路层
{% note success **数据链路层主要做什么事情** %}
1. **封装成帧**：将网络层传下来的分组添加首部和尾部，用于标记帧的开始和结束。
<img src="https://img10.360buyimg.com/ddimg/jfs/t1/197042/17/34273/7230/661d267fF6f1c1ffd/235f3e272b93f526.jpg" alt="image.png" title="image.png" />

2. **透明传输**：帧使用首部和尾部进行定界，如果帧的数据部分含有和首部尾部相同的内容，那么帧的开始和结束位置就会被错误的判定。需要在数据部分出现首部尾部相同的内容前面插入转义字符。如果数据部分出现转义字符，那么就在转义字符前面再加个转义字符。在接收端进行处理之后可以还原出原始数据。这个过程透明传输的内容是转义字符，用户察觉不到转义字符的存在。
3. **差错检测**：数据链路层广泛使用了循环冗余检验（CRC）来检查比特差错。
{% endnote %}

{% note success **MAC 地址和 IP 地址分别有什么作用** %}
物理层是 OSI 模型中最低的一层，也是最基本的一层。简单的说，网络的物理层面**确保原始的数据可在各种物理媒体上传输**。
{% endnote %}

# 物理层
{% note success **物理层主要做什么事情** %}
物理层是 OSI 模型中最低的一层，也是最基本的一层。简单的说，网络的物理层面**确保原始的数据可在各种物理媒体上传输**。
{% endnote %}

{% note info **主机之间的通信方式有哪些** %}
1. 单工通信：单向通信，发送方和接收方是固定的，消息只能单向传输。例如采集气象数据、家庭电费，网费等数据收集系统，或者打印机等应用主要采用单工通信。
2. 半双工通信：也叫双向交替通信，通信双方都可以发送消息，但同一时刻同一信道只允许单方向发送数据。例如传统的对讲机使用的就是半双工通信。
3. 全双工通信：也叫双向同时通信，全双工通信允许通信双方同时在两个方向上传输，其要求通信双方都具有独立的发送和接收数据的能力。例如平时我们打电话，自己说话的同时也能听到对面的声音
{% endnote %}

{% note success **为什么要采用信道复用** %}
{% endnote %}


{% note info 信道复用有哪些技术 %}
1. 频分复用 (FDM，Frequency Division Multiplexing)
频分复用是将信道的总带宽划分为多个独立的子带宽，并将不同的信号分配到不同的子带宽中进行传输。每个子带宽可以看作是一个独立的信道。频分复用广泛应用于无线通信、有线电视等领域。
2. 时分复用 (TDM，Time Division Multiplexing)
时分复用是将时间分为若干个时隙，将不同信号分配到不同的时隙中进行传输。每个时隙可以看作是一个独立的信道。时分复用可以应用于有线和无线通信系统，如电话系统、数字信号传输等。
3. 波分复用 (WDM，Wavelength Division Multiplexing)
码分复用又称为码分多址(CDMA，Code Division Multiple Access)，它通过使用不同的码片序列对信号进行编码和解码，实现信号在同一信道上的同时传输。码分复用具有抗干扰能力强、频谱利用率高等特点，广泛应用于移动通信、卫星通信等领域
4. 码分复用 (CDM，Code Division Multiplexing)
波分复用主要应用于光纤通信，通过将光信号分为不同的波长进行传输，实现在同一光纤中同时传输多路信号。波分复用可以大大提高光纤的传输容量，降低传输成本。
{% endnote %}

{% note info 宽带接入技术 %}
1. 数字用户线 (DSL，Digital Subscriber Line) ：DSL 技术利用现有的电话线传输高速数据，主要包括 ADSL(Asymmetric Digital Subscriber Line，非对称数字用户线) 和 VDSL(Very-high-bit-rate Digital Subscriber Line，超高速数字用户线)。DSL 技术通过在不同频段传输语音和数据，实现了高速上网和电话业务的同时使用。
2. 有线电视宽带接入(Cable Modem) ：有线电视宽带接入技术利用有线电视网络传输数据。宽带电缆调制解调器 (Cable Modem)连接到有线电视线路，实现高速数据传输。有线电视宽带接入具有传输速率高、覆盖范围广等优点。
3. 光纤到户(FTTH，Fiber to the Home)：光纤到户是一种将光纤直接连接到用户家庭的- 宽带接入技术。FTTH 利用高速光纤传输数据，具有传输速率高、抗干扰能力强、传输距离远等优点。FTTH已成为未来宽带接入的主流技术。
4. 无线宽带接入(Wireless Broadband Access)：无线宽带接入技术通过无线电波传输数据，主要包括Wi-Fi、WiMAX(Worldwide Interoperability for Microwave Access，全球微波接入互操作性) 和 4G/5G 等。无线宽带接入具有部署灵活、覆盖广泛等优点，适用于各种场景。
{% endnote %}

# 网络安全
